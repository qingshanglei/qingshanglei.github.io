![](../../../%E7%AC%94%E8%AE%B0%E5%9B%BE%E7%89%87/Java/%E9%A1%B9%E7%9B%AE/%E5%B0%9A%E4%B8%8A%E4%BC%98%E9%80%89/%E9%A1%B9%E7%9B%AE%E6%9E%B6%E6%9E%84.png)

![](../../../%E7%AC%94%E8%AE%B0%E5%9B%BE%E7%89%87/Java/%E9%A1%B9%E7%9B%AE/%E5%B0%9A%E4%B8%8A%E4%BC%98%E9%80%89/%E9%A1%B9%E7%9B%AE%E6%9E%B6%E6%9E%842.png)





商品库：

商品属性管理

![](../../../%E7%AC%94%E8%AE%B0%E5%9B%BE%E7%89%87/Java/%E9%A1%B9%E7%9B%AE/%E5%B0%9A%E4%B8%8A%E4%BC%98%E9%80%89/%E5%95%86%E5%93%81%E5%B1%9E%E6%80%A7%E7%AE%A1%E7%90%86.png)

用户库：

![](../../../%E7%AC%94%E8%AE%B0%E5%9B%BE%E7%89%87/Java/%E9%A1%B9%E7%9B%AE/%E5%B0%9A%E4%B8%8A%E4%BC%98%E9%80%89/shequ-user.png)

订单库：

![](../../../%E7%AC%94%E8%AE%B0%E5%9B%BE%E7%89%87/Java/%E9%A1%B9%E7%9B%AE/%E5%B0%9A%E4%B8%8A%E4%BC%98%E9%80%89/order.png)

总结：

```sh

3、Redis
  ①用户登录微信小程序后，使用String类型存放当前用户信息
  ②首页数据的爆款商品，使用zset类型存储商品信息
  ③当前用户的购物车信息，使用hash类型存储
  ④生产订单，商品锁定库存和其他信息
4、Redisson(分布式锁)
   ①生成订单，使用分布式锁，锁定商品库存
5、RabbitMQ
  ①上下架商品
  ②生成订单后，使用RabbitMQ删除当前用户的购物车信息
  ③支付完成后，根据订单号更新订单的状态(改为待发货)和库存（减库存）
6、ElasticsEarch(ES)
  ①使用SpringData简化ES索引库的访问和操作。除了CRUD外，还包括如分页、排序等一些常用的功能。
  ②ES存储商品上下架信息 和10件热销产品,来提高用户查询的速度。
  ③点击查看商品信息，使用Redis的Zset类型存储当前商品的Id,判断除以10等于零后添加到索引库中；可以减少索引库中的数据量，提高索引库的查询效率。
  
```

